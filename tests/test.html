<link href="//fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

<script src='https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.17/webcomponents-loader.js'></script>
<link rel='import' href='../element/index.html'>
<meta name=viewport content="width=device-width, initial-scale=1">



<body style="padding:0px;margin:0px;width:100%;height:100%;background-color:#e8ebf2">
	<div style="width:90%;margin:5%;margin-top:2.5%;float:left">
		<ui-contact-card edit="true"></ui-contact-card>
	</div>
</body>





<script>
	window.addEventListener('WebComponentsReady', function(e) {

		let camille = {};
		camille.givenName = 'camille';
		camille.telephone = '2061234567';
		camille.email = "camille@email.com";

		let sahand = {};
		sahand.familyName = 'saba';
		sahand.email = "sahand@email.com";

		let dylan = {};
		dylan.givenName = 'dylan';
		dylan.familyName = 'hardie';
		dylan.telephone = '2504545555';

		let kelly = {};
		kelly.givenName = 'kelly';
		kelly.telephone = '9897873432';
		kelly.email = "kelly@email.com";

		let jose = {};
		jose.givenName = 'jose';
		jose.familyName = 'barrios';
		jose.email = 'Jose@Barrios.Io';
		jose.telephone = '2505888968';

		let blank = {};

		var people = [];
		people.push(jose);
		people.push(camille);
		people.push(sahand);
		people.push(dylan);
		people.push(kelly);
		people.push(blank);

		function getRandom(array) {
			let randomIndex = Math.floor(Math.random() * (array.length)) + 0;
			let person = array.splice(randomIndex, 1)[0];
			return JSON.parse(JSON.stringify(person));
		}

		let contactCard = document.querySelector('ui-contact-card');
		contactCard.addEventListener('update', e=> { console.log('UPDATE', e.detail); });

		let update = getRandom(people);
		update.knows = getRandom(people);
		contactCard.setAttribute('person', JSON.stringify(update));


		setInterval(e => {
			var people = [];
			people.push(jose);
			people.push(camille);
			people.push(sahand);
			people.push(dylan);
			people.push(kelly);
			people.push(blank);

			let update = getRandom(people);
			update.knows = [];
			update.knows.push(getRandom(people));
			contactCard.setAttribute('person', JSON.stringify(update));

		}, 1000)






	});
</script>
